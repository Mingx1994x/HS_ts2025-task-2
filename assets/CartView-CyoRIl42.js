import{e as k,k as C,v as $,f as L,c as o,o as r,a as t,x as a,F as d,b,w as N,r as S,h as R,t as n,d as m,y as T,_ as V}from"./index-C69pFwWw.js";import{P as j}from"./ProductQuantityInput-CRiNF9MD.js";const q={class:"cart-section"},P={class:"container pb-5"},Q={class:"row g-5"},B={class:"col-lg-8"},F={class:"table-responsive"},I={class:"cart-table table table-dark align-middle"},E={scope:"row",class:"border-0 px-3 py-4"},z={class:"d-flex align-items-center"},A=["src","alt"],D={class:"ms-3"},M={class:"mb-0 fw-bold"},U={class:"text-neutral"},G={class:"border-0",style:{width:"200px"}},H={class:"border-0 text-end"},J={class:"mb-0 text-primary fw-bold"},K={class:"border-0 text-center"},O=["onClick"],W={class:"col-lg-4"},X={class:"order-summary-card p-4"},Y={class:"d-flex justify-content-between mb-3"},Z={class:"text-light"},tt={class:"d-flex justify-content-between align-items-center mb-4"},st={class:"mb-0 h3 fw-bold text-primary"},et=["disabled"],ot=k({__name:"CartView",setup(rt){const c=C(),{cartItems:i,totalPrice:p,cartLength:_}=$(c),{removeCart:f,updateCart:y}=c;function x(l){confirm("確定要刪除此項裝備清單嗎?")&&f(l)}const u=L(1),g=(l,s)=>{u.value=l,y(s,u.value)},h=T();function v(){h.push("/checkout")}return(l,s)=>{const w=S("RouterLink");return r(),o("section",q,[t("div",P,[s[10]||(s[10]=t("div",{class:"d-flex align-items-center py-4"},[t("h3",{class:"text-uppercase mb-0"},"裝備整備清單"),t("div",{class:"ms-3 flex-grow-1",style:{height:"1px",background:"linear-gradient(90deg, var(--bs-primary), transparent)"}})],-1)),t("div",Q,[t("div",B,[a(i).length==0?(r(),o(d,{key:0},[b(w,{to:"/products",class:"link-info"},{default:N(()=>[...s[0]||(s[0]=[m("返回商店",-1)])]),_:1}),s[1]||(s[1]=t("div",{class:"card-empty p-3 mt-4",style:{"background-color":"rgba(255, 183, 3, 0.05)",border:"1px dashed var(--bs-primary)"}},[t("small",{class:"text-primary font-monospace"},"※ 目前清單中內沒有任何裝備")],-1))],64)):(r(),o(d,{key:1},[t("div",F,[t("table",I,[s[2]||(s[2]=t("thead",null,[t("tr",null,[t("th",{scope:"col",class:"border-0 ps-0"},"稀有裝備名稱"),t("th",{scope:"col",class:"border-0 text-center"},"數量"),t("th",{scope:"col",class:"border-0 text-end"},"交易代價"),t("th",{scope:"col",class:"border-0"})])],-1)),t("tbody",null,[(r(!0),o(d,null,R(a(i),e=>(r(),o("tr",{class:"cart-item-row",key:e.product.id},[t("th",E,[t("div",z,[t("img",{src:e.product.imageUrl,alt:e.product.title,class:"cart-item-img",style:{width:"80px",height:"80px","object-fit":"cover"}},null,8,A),t("div",D,[t("p",M,n(e.product.title),1),t("small",U,n(`類別：${e.product.category}`),1)])])]),t("td",G,[b(j,{"product-nums":e.product.num,"product-id":e.product.id,"input-quantity":e.qty,onEmitQuantity:g},null,8,["product-nums","product-id","input-quantity"])]),t("td",H,[t("p",J,n(`NT$ ${e.product.price.toLocaleString()}`),1)]),t("td",K,[t("i",{class:"fas fa-times btn-remove",onClick:at=>x(e.product.id)},null,8,O)])]))),128))])])]),s[3]||(s[3]=t("div",{class:"input-group w-50 mt-4"},[t("input",{type:"text",class:"form-control secret-code-input rounded-0 border-top-0 border-start-0 border-end-0 shadow-none",placeholder:"輸入舞會密語 (Coupon Code)"}),t("button",{class:"btn btn-outline-primary border-top-0 border-start-0 border-end-0 rounded-0",type:"button"},[t("i",{class:"fas fa-paper-plane"})])],-1))],64))]),t("div",W,[t("div",X,[s[7]||(s[7]=t("h4",{class:"fw-bold mb-4 text-uppercase text-center",style:{"letter-spacing":"3px"}}," 交易契約 ",-1)),t("div",Y,[s[4]||(s[4]=t("span",{class:"text-neutral"},"初步評估 (小計)",-1)),t("span",Z,n(`NT$ ${a(p).toLocaleString()}`),1)]),s[8]||(s[8]=t("div",{class:"d-flex justify-content-between mb-4 border-bottom border-secondary pb-3"},[t("span",{class:"text-neutral"},"支付手段"),t("span",{class:"text-light"},"ApplePay")],-1)),t("div",tt,[s[5]||(s[5]=t("p",{class:"mb-0 h5 fw-bold text-uppercase"},"最終總價",-1)),t("p",st,n(`NT$ ${a(p).toLocaleString()}`),1)]),t("button",{role:"button",class:"btn btn-primary w-100 py-3 text-uppercase fw-bold shadow-lg",disabled:a(_)===0,onClick:v},[...s[6]||(s[6]=[m(" 確認交易契約 ",-1),t("i",{class:"fas fa-scroll ms-2"},null,-1)])],8,et),s[9]||(s[9]=t("p",{class:"text-center mt-3 mb-0",style:{"font-size":"0.7rem",color:"rgba(255, 255, 255, 0.3)"}}," * 簽署後即代表同意進入 Final Masquerade 宇宙法則 ",-1))])])])])])}}}),dt=V(ot,[["__scopeId","data-v-a0693a06"]]);export{dt as default};
